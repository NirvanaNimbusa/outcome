<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.29" />
    <meta name="description" content="">


    <title>Incommensurate E types :: Boost.Outcome documentation</title>
    <link rel="shortcut icon" href="/doc/libs/1_65_1/libs/outcome/doc/html/images/favicon.png" type="image/x-icon" />
    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/nucleus.css" rel="stylesheet">
    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/font-awesome.min.css" rel="stylesheet">
    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/hybrid.css" rel="stylesheet">
    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/featherlight.min.css" rel="stylesheet">
    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/horsey.css" rel="stylesheet">
    
    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/theme.css" rel="stylesheet">
    
    
    <link rel="stylesheet" href="/doc/libs/1_65_1/libs/outcome/doc/html/css/bootstrap.min.css">
    <script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>

    

    <link href="/doc/libs/1_65_1/libs/outcome/doc/html/css/local.css" rel="stylesheet">

  </head>
  <body class="" data-url="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/problem/">
    <nav id="sidebar" class=""><div class="highlightable">
  <div id="header-wrapper">
    <div id="header"> 
	<p>Outcome 2.0 library documentation</p>
 


    </div><div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script type="text/javascript" src="/doc/libs/1_65_1/libs/outcome/doc/html/js/lunr.min.js"></script>
<script type="text/javascript" src="/doc/libs/1_65_1/libs/outcome/doc/html/js/horsey.js"></script>
<script type="text/javascript">
    var baseurl = "http:\/\/www.boost.org\/doc\/libs\/1_65_1\/libs\/outcome\/doc\/html";
</script>
<script type="text/javascript" src="/doc/libs/1_65_1/libs/outcome/doc/html/js/search.js"></script>

  </div>


    <ul class="topics">
            <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/" class="dd-item">
            <a href="/doc/libs/1_65_1/libs/outcome/doc/html/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/requirements/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/requirements/">
        <span>Prerequisites</span>
      </a>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/build/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/build/">
        <span>Build and install</span>
      </a>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/use-matrix/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/use-matrix/">
        <span>Decision matrix</span>
      </a>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/" class="dd-item parent">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/">
        <span>Tutorial</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/result/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/result/">
        <span>result&lt;T, EC&gt;</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/result/inspecting/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/result/inspecting/">
          <span>Inspecting result&lt;T, EC&gt;</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/result/try/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/result/try/">
          <span>TRY operations</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/outcome/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/outcome/">
        <span>outcome&lt;T, EC, EP&gt;</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/outcome/inspecting/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/outcome/inspecting/">
          <span>Inspecting outcome&lt;T, EC, EP&gt;</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/">
        <span>Custom payloads</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/copy_file/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/copy_file/">
          <span>The Filesystem TS</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/copy_file2/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/copy_file2/">
          <span>Upgrading the Filesystem TS</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/copy_file3/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/payload/copy_file3/">
          <span>Auto-throwing filesystem_error</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/">
        <span>Default actions</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/udt-err/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/udt-err/">
          <span>User defined error types</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/happens1/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/happens1/">
          <span>-- What happens?</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/enums/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/enums/">
          <span>Error code enums</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/happens2/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/happens2/">
          <span>-- What happens?</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/happens3/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/happens3/">
          <span>-- Now what happens?</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/error-codes/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/error-codes/">
          <span>error_code</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/exception-ptr/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/exception-ptr/">
          <span>exception_ptr</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/void/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/void/">
          <span>void</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/unchecked/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/default-actions/unchecked/">
          <span>unchecked&lt;T, E&gt; and checked&lt;T, E&gt;</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/">
        <span>Result returning constructors</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/two-phase-init/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/two-phase-init/">
          <span>Two phase construction</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/file_handle/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/file_handle/">
          <span>A file handle</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/static-constructor/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/static-constructor/">
          <span>Phase 2 construction</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/metaprogrammg1/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/metaprogrammg1/">
          <span>Phase 3</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/metaprogrammg2/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/metaprogrammg2/">
          <span>construct&lt;T&gt;</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/metaprogrammg3/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/constructors/metaprogrammg3/">
          <span>Alternatives</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/">
        <span>Hooking events</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/keeping_state/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/keeping_state/">
          <span>Keeping state</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/adl_bridging/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/adl_bridging/">
          <span>ADL bridging</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/hook_result/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/hook_result/">
          <span>Hook result</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/poke_exception/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/poke_exception/">
          <span>Custom exception ptr</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/hook_outcome/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/hooks/hook_outcome/">
          <span>Hook outcome</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/">
        <span>Policies</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/anatomy/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/anatomy/">
          <span>Anatomy of a policy</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/cast/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/cast/">
          <span>Casting workaround</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/builtin/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/policies/builtin/">
          <span>Built-in policies</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/">
        <span>Using result&lt;T&gt; from C code</span><i class="fa fa-angle-right fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/limitations/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/limitations/">
          <span>Limitations</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/example/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/example/">
          <span>Example C&#43;&#43; function</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/example2/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/example2/">
          <span>Calling it from C</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/variations/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/c-api/variations/">
          <span>Variations</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/" class="dd-item parent">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/">
        <span>Interoperation</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/problem/" class="dd-item active">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/problem/">
          <span>Incommensurate E types</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/value-or-error/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/value-or-error/">
          <span>ValueOrError Concept</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/httplib/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/httplib/">
          <span>The HTTP library</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/tidylib/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/tidylib/">
          <span>The HTMLTidy library</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/filelib/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/filelib/">
          <span>The File I/O library</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app/">
          <span>The Application</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-httplib1/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-httplib1/">
          <span>Mapping the HTTP library into the Application 1/2</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-httplib2/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-httplib2/">
          <span>Mapping the HTTP library into the Application 2/2</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-filelib/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-filelib/">
          <span>Mapping the File I/O library into the Application</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-tidylib/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-map-tidylib/">
          <span>Mapping the HTMLTidy library into the Application</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-go/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/app-go/">
          <span>In use</span>
        </a>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/conclusion/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/conclusion/">
          <span>Conclusion</span>
        </a>
    </li>
        </ul>
    </li>
      <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/error_code/" class="dd-item">
        <a href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/error_code/">
          <span>Custom error codes</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/faq/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/faq/">
        <span>Frequently asked questions</span>
      </a>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/videos/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/videos/">
        <span>Videos</span>
      </a>
    </li>
    <li data-nav-id="/doc/libs/1_65_1/libs/outcome/doc/html/history/" class="dd-item">
      <a href="/doc/libs/1_65_1/libs/outcome/doc/html/history/">
        <span>History</span>
      </a>
    </li>
        <section id="shortcuts">
                <li class="" role=""><a href="/doc/libs/1_65_1/libs/outcome/doc/html/standardese/standardese_entities.html" target="_blank" rel="noopener">API reference (standardese)</a></li>
                <li class="" role=""><a href="/doc/libs/1_65_1/libs/outcome/doc/html/doxygen/namespaceoutcome__v2__xxx.html" target="_blank" rel="noopener">API reference (doxygen)</a></li>
                <li class="" role=""><h3>More</h3><a href="https://github.com/ned14/outcome" target="_blank" rel="noopener"><i class='fa fa-github'></i> Standalone Outcome 2.0 github repo</a></li>
                <li class="" role=""><a href="/doc/libs/1_65_1/libs/outcome/doc/html/credits" target="_blank" rel="noopener"><i class='fa fa-bullhorn'></i> Acknowledgements</a></li>
        </section>
    </ul>


    <section id="footer"><center>

<a class="github-button" href="https://dedi4.nedprod.com/static/files/outcome-v2.0-source-latest.tar.xz" data-icon="octicon-cloud-download" aria-label="Download Outcome">Download</a>


<a class="github-button" href="https://github.com/ned14/outcome" data-icon="octicon-star" data-show-count="false" aria-label="Star Outcome on GitHub">Star</a>


<a class="github-button" href="https://github.com/ned14/outcome/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork Outcome on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>



        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
        
          <div id="top-bar">
            
              
              
              
            <div id="top-github-link">
              <a class="github-link" href="https://github.com/ned14/boost-outcome/edit/develop/doc/src/content/tutorial/interop/problem.md" target="blank">
                <i class="fa fa-code-fork"></i>
                Edit page
              </a>
            </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                  </a>
                </span>
                <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                <span class="links">
                










 <a href='/doc/libs/1_65_1/libs/outcome/doc/html/'>Home</a> > <a href='/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/'>Tutorial</a> > <a href='/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/'>Interoperation</a> > Incommensurate E types

 

 

 

   
                </span>
            </div>
            <div class="progress">
    <div class="wrapper">

    </div>
</div>

          </div>
        
        
        <div id="body-inner">
          
            <h1>Incommensurate E types</h1>
          




<p>Back in the tutorial section on Default Actions, we studied a likely very common
initial choice of <code>E</code> type: <a href="../../default-actions/enums">a strongly typed enum</a>.
We saw how by marking up strongly typed enums to tell the C++ standard library
what they are, they gain implicit convertibility into <code>std::error_code</code>, and we
then pointed out that you might as well now set <code>E = std::error_code</code> as that
comes with the enormous advantage that you can use the boilerplate saving
<code>OUTCOME_TRY</code> macro when the <code>E</code> type is always the same.</p>

<p>We thus strongly recommend to users that for any given piece of code, always
using the same <code>E</code> type across the codebase is very wise, except where you explicitly want
to prevent implicit propagation of failure up a call stack e.g. local failures in
some domain specific piece of code.</p>

<p>However it is unreasonable to expect that any non-trivial codebase can make do
with <code>E = std::error_code</code>. This is why Outcome allows you to use <a href="../../payload">custom <code>E</code>
types which carry payload</a> in addition to an error code, yet
still have the Default Actions of <code>std::error_code</code>, including <a href="../../payload/copy_file3">lazy custom exception
throw synthesis</a>.</p>

<p>All this is good, but if library A uses <code>result&lt;T, libraryA::failure_info&gt;</code>,
and library B uses <code>result&lt;T, libraryB::error_info&gt;</code> and so on, there becomes
a problem for the application writer who is bringing in these third party
dependencies and tying them together into an application. As a general rule,
each third party library author will not have built in explicit interoperation
support for unknown other third party libraries. The problem therefore lands
with the application writer.</p>

<p>The application writer has one of three choices:</p>

<ol>
<li><p>In the application, the form of result used is <code>result&lt;T, std::variant&lt;E1, E2, ...&gt;&gt;</code>
where <code>E1</code>, <code>E2</code> &hellip; are the failure types for every third party library
in use in the application. This has the advantage of preserving the original
information exactly, but comes with a certain amount of use inconvenience
and maybe excessive coupling between high level layers and implementation detail.</p></li>

<li><p>One can translate/map the third party&rsquo;s failure type into the application&rsquo;s
failure type at the point of the failure
exiting the third party library and entering the application. One might do
this, say, with a C preprocessor macro wrapping every invocation of the third
party API from the application. This approach may lose the original failure detail,
or mis-map under certain circumstances if the mapping between the two systems
is not one-one.</p></li>

<li><p>One can type erase the third party&rsquo;s failure type into some application
failure type, which can later be reconstituted if necessary. This is the cleanest
solution with the least coupling issues and no problems with mis-mapping, but
it almost certainly requires the use of <code>malloc</code> which the previous two did not.</p></li>
</ol>

<p>Things get even more complication in the presence of callbacks. If in the
callback you supply to library A, you call library B, you may need to insert
switch statement maps or other mechanisms to convert library B&rsquo;s failures into
something library A can understand, and then somehow extract that out &ndash; preferably
without loss of original information &ndash; into the application&rsquo;s failure handling
mechanism if library A subsequently returns failure as well. This implies
transmitting state by which to track these interrelated pieces of failure data.</p>

<p>Let us see what Outcome can do to help the application writer address some of these
issues, next.</p>


<footer class=" footline" >
	
</footer>




        

      </div>
    </div>

    
 
    

    <div id="navigation">
        <a class="nav nav-prev" href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/" title="Interoperation"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="/doc/libs/1_65_1/libs/outcome/doc/html/tutorial/interop/value-or-error/" title="ValueOrError Concept" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>    

    <script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/clipboard.min.js"></script>
<script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/featherlight.min.js"></script>
<script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/html5shiv-printshiv.min.js"></script>


<script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/modernizr.custom.71422.js"></script>
<script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/learn.js"></script>
<script src="/doc/libs/1_65_1/libs/outcome/doc/html/js/hugo-learn.js"></script>


<link href="/doc/libs/1_65_1/libs/outcome/doc/html/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
<script src="/doc/libs/1_65_1/libs/outcome/doc/html/mermaid/mermaid.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
    

  </body>
</html>

